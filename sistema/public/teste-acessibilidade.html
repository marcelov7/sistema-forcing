<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste de Acessibilidade - Sistema de Forcing</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <!-- CSS de Acessibilidade -->
    <link href="css/colorblind-accessibility.css" rel="stylesheet">
    
    <style>
        body {
            padding: 20px;
        }
        .test-card {
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üé® Teste do Sistema de Acessibilidade para Daltonismo</h1>
        <p class="lead">Esta p√°gina testa se o toggle de acessibilidade est√° funcionando corretamente.</p>
        
        <div class="alert alert-info">
            <strong>Instru√ß√µes:</strong> 
            <br>‚Ä¢ Procure um bot√£o/toggle no canto superior direito da tela
            <br>‚Ä¢ Ou pressione <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>A</kbd>
            <br>‚Ä¢ O modo daltonismo deve ativar/desativar
        </div>
        
        <div class="row">
            <div class="col-md-6">
                <div class="card test-card forcing-status-card" data-status="ativo">
                    <div class="card-body">
                        <h5 class="card-title">Sistema A - For√ßado</h5>
                        <span class="badge badge-danger">Ativo</span>
                        <p>Este card deve mudar de apar√™ncia quando o modo daltonismo for ativado.</p>
                        <button class="btn btn-danger">Retirar Forcing</button>
                    </div>
                </div>
            </div>
            
            <div class="col-md-6">
                <div class="card test-card forcing-status-card" data-status="retirado">
                    <div class="card-body">
                        <h5 class="card-title">Sistema B - Retirado</h5>
                        <span class="badge badge-success">Retirado</span>
                        <p>Este card tamb√©m deve mudar de apar√™ncia.</p>
                        <button class="btn btn-success">Forcing Ativo</button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="alert alert-warning">
            <strong>Aviso de Teste:</strong> Este alerta deve ganhar √≠cones quando o modo daltonismo estiver ativo.
        </div>
        
        <div class="alert alert-success">
            <strong>Sucesso de Teste:</strong> Este alerta tamb√©m deve ganhar √≠cones.
        </div>
        
        <div class="alert alert-danger">
            <strong>Erro de Teste:</strong> E este alerta deve mostrar √≠cones de erro.
        </div>
        
        <h3>Debug Information</h3>
        <div class="card">
            <div class="card-body">
                <h5>Status do Sistema:</h5>
                <ul id="debug-info">
                    <li>Aguardando carregamento do JavaScript...</li>
                </ul>
            </div>
        </div>
    </div>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- JavaScript de Acessibilidade -->
    <script src="js/colorblind-accessibility.js"></script>
    
    <script>
        // Debug script para verificar se tudo est√° funcionando
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ P√°gina carregada, iniciando debug...');
            
            const debugInfo = document.getElementById('debug-info');
            
            setTimeout(() => {
                console.log('üîç Executando verifica√ß√µes de debug...');
                const status = [];
                
                // Verificar se o objeto foi criado
                if (window.colorblindAccessibility) {
                    status.push('‚úÖ ColorblindAccessibility carregado com sucesso');
                    status.push(`üìã Modo atual: ${window.colorblindAccessibility.isColorblindModeEnabled() ? 'Ativo' : 'Inativo'}`);
                    console.log('‚úÖ ColorblindAccessibility encontrado');
                } else {
                    status.push('‚ùå ColorblindAccessibility N√ÉO foi carregado');
                    console.error('‚ùå ColorblindAccessibility n√£o encontrado');
                }
                
                // Verificar se o toggle existe
                const toggle = document.querySelector('#colorblind-toggle');
                if (toggle) {
                    status.push('‚úÖ Toggle encontrado no DOM');
                    console.log('‚úÖ Toggle encontrado:', toggle);
                } else {
                    status.push('‚ùå Toggle N√ÉO encontrado no DOM');
                    console.error('‚ùå Toggle n√£o encontrado');
                }
                
                // Verificar se o container do toggle existe
                const container = document.querySelector('#colorblind-toggle-container');
                if (container) {
                    status.push('‚úÖ Container do toggle encontrado');
                    console.log('‚úÖ Container encontrado:', container);
                } else {
                    status.push('‚ùå Container do toggle N√ÉO encontrado');
                    console.error('‚ùå Container n√£o encontrado');
                }
                
                // Verificar CSS
                const cssLink = document.querySelector('link[href*="colorblind-accessibility.css"]');
                if (cssLink) {
                    status.push('‚úÖ CSS de acessibilidade carregado');
                    console.log('‚úÖ CSS encontrado:', cssLink.href);
                } else {
                    status.push('‚ùå CSS de acessibilidade N√ÉO carregado');
                    console.error('‚ùå CSS n√£o encontrado');
                }
                
                // Verificar JavaScript
                const jsScript = document.querySelector('script[src*="colorblind-accessibility.js"]');
                if (jsScript) {
                    status.push('‚úÖ JavaScript de acessibilidade carregado');
                    console.log('‚úÖ JS encontrado:', jsScript.src);
                } else {
                    status.push('‚ùå JavaScript de acessibilidade N√ÉO carregado');
                    console.error('‚ùå JS n√£o encontrado');
                }
                
                // Atualizar a lista
                debugInfo.innerHTML = status.map(item => `<li>${item}</li>`).join('');
                console.log('üìä Debug completo:', status);
            }, 2000);
        });
        
        // Tentar criar manualmente se n√£o funcionar
        setTimeout(() => {
            if (!document.querySelector('#colorblind-toggle')) {
                console.log('üîß Tentando criar toggle manualmente...');
                if (window.colorblindAccessibility) {
                    window.colorblindAccessibility.createToggle();
                }
            }
        }, 3000);
    </script>
</body>
</html>
